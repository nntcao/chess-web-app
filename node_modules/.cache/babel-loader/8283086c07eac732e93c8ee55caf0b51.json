{"ast":null,"code":"import { getSpaceUntilMaxLength } from \"@testing-library/user-event/dist/utils\";\n\nconst isPieceAtPosition = (chessBoard, letter, number) => {\n  if (chessBoard[letter][number].piece.type === null) {\n    return false;\n  }\n\n  return true;\n};\n\nconst isEnemyPieceAtPosition = (chessBoard, letter, number, piece) => {\n  if (chessBoard[letter][number].piece.type === null) {\n    return false;\n  }\n\n  if (chessBoard[letter][number].piece.color === piece.color) {\n    return false;\n  }\n\n  return true;\n};\n\nconst checkValidChessBoard = (chessBoard, colorTurn) => {\n  for (var i = 1; i <= 8; i++) {\n    for (var j = 1; j <= 8; j++) {\n      if (colorTurn == 'l') {\n        if (isPieceAtPosition(chessBoard, i, j)) {}\n      }\n    }\n  }\n};\n\nconst addCapturablePiecesPawn = (chessBoard, letter, number, possibleMoves, piece) => {\n  if (isLocationWithinBounds(letter, number)) {\n    if (isEnemyPieceAtPosition(chessBoard, letter, number, piece)) {\n      possibleMoves.push([letter, number]);\n    }\n  }\n};\n\nconst isLocationWithinBounds = (letter, number) => {\n  return letter >= 1 && letter <= 8 && number >= 1 && number <= 8;\n};\n\nconst showPossibleMoves = (chessBoard, possibleMovesToShow, setChessBoard) => {\n  const newChessBoard = chessBoard;\n\n  for (var i = 0; i < possibleMovesToShow.length; i++) {\n    const letterIndexToShow = possibleMovesToShow[i][0];\n    const numberIndexToShow = possibleMovesToShow[i][1];\n    newChessBoard[letterIndexToShow][numberIndexToShow].indicatorMoveHere = true;\n    console.log(newChessBoard[letterIndexToShow][numberIndexToShow]);\n  }\n\n  return newChessBoard;\n};\n\nconst addPossibleMove = (chessBoard, letter, number, possibleMoves, chessPiece) => {\n  if (isLocationWithinBounds(letter, number)) {\n    if (!isPieceAtPosition(chessBoard, letter, number)) {\n      possibleMoves.push([letter, number]);\n      return true;\n    } else if (chessPiece.color !== chessBoard[letter][number].piece.color) {\n      if (chessPiece.type !== 'p') {\n        possibleMoves.push([letter, number]);\n        return false;\n      }\n    }\n  }\n\n  return false;\n};\n\nconst checkDiagonals = (chessBoard, letter, number, possibleMoves, chessPiece) => {\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter - i, number + i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter + i, number + i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter - i, number - i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter + i, number - i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n};\n\nconst checkVertHori = (chessBoard, letter, number, possibleMoves, chessPiece) => {\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter + i, number, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter - i, number, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter, number + i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n\n  for (var i = 1; i <= 7; i++) {\n    if (!addPossibleMove(chessBoard, letter, number - i, possibleMoves, chessPiece)) {\n      break;\n    }\n  }\n};\n\nconst getPossibleMovesKnight = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const checkPositions = [[letter + 2, number - 1], [letter + 2, number + 1], [letter - 2, number - 1], [letter - 2, number + 1], [letter - 1, number - 2], [letter + 1, number - 2], [letter - 1, number + 2], [letter + 1, number + 2]];\n  const chessPiece = chessBoard[letter][number].piece;\n\n  for (var i = 0; i < checkPositions.length; i++) {\n    addPossibleMove(chessBoard, checkPositions[i][0], checkPositions[i][1], possibleMoves, chessPiece);\n  }\n\n  return possibleMoves;\n};\n\nconst getPossibleMovesBishop = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const chessPiece = chessBoard[letter][number].piece;\n  checkDiagonals(chessBoard, letter, number, possibleMoves, chessPiece);\n  return possibleMoves;\n};\n\nconst getPossibleMovesRook = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const chessPiece = chessBoard[letter][number].piece;\n  checkVertHori(chessBoard, letter, number, possibleMoves, chessPiece);\n  return possibleMoves;\n};\n\nconst getPossibleMovesKing = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const chessPiece = chessBoard[letter][number].piece;\n\n  for (var i = -1; i <= 1; i++) {\n    for (var j = -1; j <= 1; j++) {\n      addPossibleMove(chessBoard, letter + i, number + j, possibleMoves, chessPiece);\n    }\n  }\n\n  return possibleMoves;\n};\n\nconst getPossibleMovesPawn = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const chessPiece = chessBoard[letter][number].piece;\n\n  if (chessPiece.color === 'l') {\n    if (addPossibleMove(chessBoard, letter, number + 1, possibleMoves, chessPiece) && number === 2) {\n      addPossibleMove(chessBoard, letter, number + 2, possibleMoves, chessPiece);\n    }\n\n    addCapturablePiecesPawn(chessBoard, letter - 1, number + 1, possibleMoves, chessPiece);\n    addCapturablePiecesPawn(chessBoard, letter + 1, number + 1, possibleMoves, chessPiece);\n  } else {\n    if (addPossibleMove(chessBoard, letter, number - 1, possibleMoves, chessPiece) && number === 7) {\n      addPossibleMove(chessBoard, letter, number - 2, possibleMoves, chessPiece);\n    }\n\n    addCapturablePiecesPawn(chessBoard, letter - 1, number - 1, possibleMoves, chessPiece);\n    addCapturablePiecesPawn(chessBoard, letter + 1, number - 1, possibleMoves, chessPiece);\n  }\n\n  return possibleMoves;\n};\n\nconst getPossibleMovesQueen = (chessBoard, letter, number) => {\n  const possibleMoves = [];\n  const chessPiece = chessBoard[letter][number].piece;\n  checkVertHori(chessBoard, letter, number, possibleMoves, chessPiece);\n  checkDiagonals(chessBoard, letter, number, possibleMoves, chessPiece);\n  return possibleMoves;\n};\n\nconst getPossibleMoves = (newChessBoard, letter, number, chessPiece) => {\n  var possibleMoves = [];\n\n  switch (chessPiece.type) {\n    case null:\n      break;\n\n    case 'k':\n      possibleMoves = getPossibleMovesKing(newChessBoard, letter, number);\n      newChessBoard = showPossibleMoves(newChessBoard, possibleMoves);\n      break;\n\n    case 'q':\n      possibleMoves = getPossibleMovesQueen(newChessBoard, letter, number);\n      break;\n\n    case 'b':\n      possibleMoves = getPossibleMovesBishop(newChessBoard, letter, number);\n      break;\n\n    case 'n':\n      possibleMoves = getPossibleMovesKnight(newChessBoard, letter, number);\n      break;\n\n    case 'r':\n      possibleMoves = getPossibleMovesRook(newChessBoard, letter, number);\n      break;\n\n    case 'p':\n      possibleMoves = getPossibleMovesPawn(newChessBoard, letter, number);\n      break;\n\n    default:\n      break;\n  }\n\n  return possibleMoves;\n};\n\nexport default {\n  showPossibleMoves,\n  getPossibleMovesKing,\n  getPossibleMovesPawn,\n  getPossibleMovesKnight,\n  getPossibleMovesBishop,\n  getPossibleMovesRook,\n  getPossibleMovesQueen,\n  getPossibleMoves\n};","map":{"version":3,"sources":["C:/Users/nntca/Desktop/proj/chess-web-app/src/managers/ChessLogicManager.js"],"names":["getSpaceUntilMaxLength","isPieceAtPosition","chessBoard","letter","number","piece","type","isEnemyPieceAtPosition","color","checkValidChessBoard","colorTurn","i","j","addCapturablePiecesPawn","possibleMoves","isLocationWithinBounds","push","showPossibleMoves","possibleMovesToShow","setChessBoard","newChessBoard","length","letterIndexToShow","numberIndexToShow","indicatorMoveHere","console","log","addPossibleMove","chessPiece","checkDiagonals","checkVertHori","getPossibleMovesKnight","checkPositions","getPossibleMovesBishop","getPossibleMovesRook","getPossibleMovesKing","getPossibleMovesPawn","getPossibleMovesQueen","getPossibleMoves"],"mappings":"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","sourcesContent":["import { getSpaceUntilMaxLength } from \"@testing-library/user-event/dist/utils\"\r\n\r\nconst isPieceAtPosition = (chessBoard, letter, number) => {\r\n    if (chessBoard[letter][number].piece.type === null) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nconst isEnemyPieceAtPosition = (chessBoard, letter, number, piece) => {\r\n    if (chessBoard[letter][number].piece.type === null) {\r\n        return false\r\n    }\r\n    if (chessBoard[letter][number].piece.color === piece.color) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nconst checkValidChessBoard = (chessBoard, colorTurn) => {\r\n    for (var i = 1; i <= 8; i++) {\r\n        for (var j = 1; j <= 8; j++) {\r\n            if (colorTurn == 'l') {\r\n                if (isPieceAtPosition(chessBoard, i, j)) {\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst addCapturablePiecesPawn = (chessBoard, letter, number, possibleMoves, piece) => {\r\n    if (isLocationWithinBounds(letter, number)) {\r\n        if (isEnemyPieceAtPosition(chessBoard, letter, number, piece)) {\r\n            possibleMoves.push([letter, number])\r\n        }\r\n    }    \r\n}\r\n\r\n\r\nconst isLocationWithinBounds = (letter, number) => {\r\n    return ((letter >= 1) && (letter <= 8)) && ((number >= 1) && (number <= 8))\r\n}\r\n\r\n\r\nconst showPossibleMoves = (chessBoard, possibleMovesToShow, setChessBoard) => {\r\n    const newChessBoard = chessBoard\r\n    for (var i = 0; i < possibleMovesToShow.length; i++) {\r\n        const letterIndexToShow = possibleMovesToShow[i][0]\r\n        const numberIndexToShow = possibleMovesToShow[i][1]\r\n\r\n        newChessBoard[letterIndexToShow][numberIndexToShow].indicatorMoveHere = true\r\n        console.log(newChessBoard[letterIndexToShow][numberIndexToShow]); \r\n    }\r\n    return newChessBoard\r\n}\r\n\r\nconst addPossibleMove = (chessBoard, letter, number, possibleMoves, chessPiece) => {\r\n    if (isLocationWithinBounds(letter, number)) {\r\n        if (!isPieceAtPosition(chessBoard, letter, number)) {\r\n            possibleMoves.push([letter, number])\r\n            return true\r\n        }\r\n        else if (chessPiece.color !== chessBoard[letter][number].piece.color) {\r\n            if (chessPiece.type !== 'p') {\r\n                possibleMoves.push([letter, number])\r\n                return false\r\n            }\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nconst checkDiagonals = (chessBoard, letter, number, possibleMoves, chessPiece) => {\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter - i, number + i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter + i, number + i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter - i, number - i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter + i, number - i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n}\r\n\r\nconst checkVertHori = (chessBoard, letter, number, possibleMoves, chessPiece) => {\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter + i, number, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter - i, number, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter, number + i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n    for (var i = 1; i <= 7; i++) {\r\n        if (!addPossibleMove(chessBoard, letter, number - i, possibleMoves, chessPiece)) {\r\n            break\r\n        }\r\n    }\r\n}\r\n\r\nconst getPossibleMovesKnight = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const checkPositions = [\r\n        [letter + 2, number - 1], [letter + 2, number + 1], \r\n        [letter - 2, number - 1], [letter - 2, number + 1],\r\n        [letter - 1, number - 2], [letter + 1, number - 2],\r\n        [letter - 1, number + 2], [letter + 1, number + 2]\r\n    ]\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    for (var i = 0; i < checkPositions.length; i++) {\r\n        addPossibleMove(chessBoard, checkPositions[i][0], checkPositions[i][1], possibleMoves, chessPiece)\r\n    }\r\n    return possibleMoves\r\n}\r\n\r\nconst getPossibleMovesBishop = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    checkDiagonals(chessBoard, letter, number, possibleMoves, chessPiece)    \r\n\r\n    return possibleMoves\r\n}\r\n\r\nconst getPossibleMovesRook = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    checkVertHori(chessBoard, letter, number, possibleMoves, chessPiece)\r\n\r\n    return possibleMoves\r\n}\r\n\r\nconst getPossibleMovesKing = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    for (var i = -1; i <= 1; i++) {\r\n        for (var j = -1; j <= 1; j++) {\r\n            addPossibleMove(chessBoard, letter + i, number + j, possibleMoves, chessPiece)\r\n        }\r\n    }\r\n    return possibleMoves \r\n}\r\n\r\nconst getPossibleMovesPawn = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    if (chessPiece.color === 'l') {\r\n        if (addPossibleMove(chessBoard, letter, number + 1, possibleMoves, chessPiece) && number === 2) {\r\n            addPossibleMove(chessBoard, letter, number + 2, possibleMoves, chessPiece) \r\n        }\r\n        addCapturablePiecesPawn(chessBoard, letter - 1, number + 1, possibleMoves, chessPiece)\r\n        addCapturablePiecesPawn(chessBoard, letter + 1, number + 1, possibleMoves, chessPiece)\r\n    }\r\n    else {\r\n        if (addPossibleMove(chessBoard, letter, number - 1, possibleMoves, chessPiece) && number === 7) {\r\n            addPossibleMove(chessBoard, letter, number - 2, possibleMoves, chessPiece) \r\n        }\r\n        addCapturablePiecesPawn(chessBoard, letter - 1, number - 1, possibleMoves, chessPiece)\r\n        addCapturablePiecesPawn(chessBoard, letter + 1, number - 1, possibleMoves, chessPiece)\r\n    }\r\n    return possibleMoves \r\n}\r\n\r\nconst getPossibleMovesQueen = (chessBoard, letter, number) => {\r\n    const possibleMoves = []\r\n    const chessPiece = chessBoard[letter][number].piece\r\n\r\n    checkVertHori(chessBoard, letter, number, possibleMoves, chessPiece)\r\n    checkDiagonals(chessBoard, letter, number, possibleMoves, chessPiece)\r\n\r\n    return possibleMoves\r\n}\r\n\r\nconst getPossibleMoves = (newChessBoard, letter, number, chessPiece) => {\r\n    var possibleMoves = []\r\n    switch (chessPiece.type) {\r\n        case null:\r\n            break;\r\n        case 'k':\r\n            possibleMoves = getPossibleMovesKing(newChessBoard, letter, number)\r\n            newChessBoard = showPossibleMoves(newChessBoard, possibleMoves)\r\n            break;\r\n        case 'q':\r\n            possibleMoves = getPossibleMovesQueen(newChessBoard, letter, number)\r\n            break;\r\n        case 'b':\r\n            possibleMoves = getPossibleMovesBishop(newChessBoard, letter, number)\r\n            break;\r\n        case 'n':\r\n            possibleMoves = getPossibleMovesKnight(newChessBoard, letter, number)\r\n            break;\r\n        case 'r':\r\n            possibleMoves = getPossibleMovesRook(newChessBoard, letter, number)\r\n            break;\r\n        case 'p':\r\n            possibleMoves = getPossibleMovesPawn(newChessBoard, letter, number)\r\n            break;\r\n        default:\r\n           break;\r\n    }\r\n    return possibleMoves\r\n}\r\n\r\nexport default {\r\n    showPossibleMoves,\r\n    getPossibleMovesKing,\r\n    getPossibleMovesPawn,\r\n    getPossibleMovesKnight,\r\n    getPossibleMovesBishop,\r\n    getPossibleMovesRook,\r\n    getPossibleMovesQueen,\r\n    getPossibleMoves\r\n}"]},"metadata":{},"sourceType":"module"}